webpackJsonp([1],{2844:function(t,n){},"9M+g":function(t,n){},EwDY:function(t,n){},FuEb:function(t,n){},Jmt5:function(t,n){},NHnr:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=i("7+uW"),a={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var s=i("VU/8")({name:"App"},a,!1,function(t){i("vHzB")},null,null).exports,o=i("/ocq"),r=i("mvHQ"),u=i.n(r),c={data:function(){return{input_num:"0",point:!1,tag:["衣","食","行"],income:"",outcome:"",text:"",list:"",tab_in:!1,choosetag:[],dismissSecs:3,dismissCountDown:0}},mounted:function(){var t=localStorage.getItem("tags"),n=null;void 0===t||null===t?(n=this.tag,window.localStorage.tags=u()(n)):n=JSON.parse(t);for(var i=n.length,e=0;e<i;e++){var a=n[e];n[e]={isactive:!0,isactive2:!1,content:a}}this.list=n,window.scrollTo(0,400)},methods:{input:function(t){"0"===this.input_num?this.input_num=t+"":this.input_num+=t},add_point:function(){this.point||(this.point=!0,this.input_num+=".")},clear:function(){this.input_num="0",this.point=!1},del:function(){var t=this.input_num.length;"."===this.input_num.charAt(t-1)&&(this.point=!1),this.input_num=this.input_num.substr(0,this.input_num.length-1)},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},pushmoney:function(){if("0"!==this.input_num){var t=this.input_num.indexOf("."),n=this.input_num.length;if(this.input_num.substr(t+1,n).length>2&&-1!==t)return alert("请输入正确金额"),void(this.input_num="0");this.income=parseFloat(this.input_num),this.point=!1;for(var i=this.list.length,e=0;e<i;e++)this.list[e].isactive=!0,this.list[e].isactive2=!1;var a={};a.tags=this.choosetag,a.remark=this.text,a.money=this.input_num;var s=new Date;if(a.date=this.dateFormat("YYYY-mm-dd",s),!0===this.tab_in&&"0"!==this.input_num){var o=[];void 0===window.localStorage.inmoney?(o=[a],window.localStorage.inmoney=u()(o)):((o=JSON.parse(window.localStorage.inmoney)).push(a),window.localStorage.inmoney=u()(o)),this.choosetag=[]}else if(!1===this.tab_in&&"0"!==this.input_num){var r=[];void 0===window.localStorage.output?(r=[a],window.localStorage.output=u()(r)):((r=JSON.parse(window.localStorage.output)).push(a),window.localStorage.output=u()(r))}this.input_num="0",this.choosetag=[],this.showAlert()}},everytag:function(t){if(t.isactive=!t.isactive,t.isactive2=!t.isactive2,!0===t.isactive2)this.choosetag.push(t.content);else if(!1===t.isactive2){var n=t.content,i=this.choosetag.indexOf(n);this.choosetag.splice(i,1)}},dateFormat:function(t,n){var i=void 0,e={"Y+":n.getFullYear().toString(),"m+":(n.getMonth()+1).toString(),"d+":n.getDate().toString(),"H+":n.getHours().toString(),"M+":n.getMinutes().toString(),"S+":n.getSeconds().toString()};for(var a in e)(i=new RegExp("("+a+")").exec(t))&&(t=t.replace(i[1],1==i[1].length?e[a]:e[a].padStart(i[1].length,"0")));return t}}},l={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("div",{staticClass:"record",attrs:{id:"record"}},[i("b-alert",{staticClass:"successAlert",attrs:{show:t.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(n){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v("记账成功")]),t._v(" "),i("div",t._l(t.list,function(n,e){return i("ul",{key:e,staticClass:"ulstyle"},[i("li",{class:{biaostyle:n.isactive,biaotwostyle:n.isactive2},on:{click:function(i){return t.everytag(n)}}},[t._v(t._s(n.content))])])}),0),t._v(" "),i("div",[i("b-form-input",{attrs:{placeholder:"备注"},model:{value:t.text,callback:function(n){t.text=n},expression:"text"}})],1),t._v(" "),i("div",[i("div",[i("b-tabs",{attrs:{"content-class":"mt-3",justified:""}},[i("b-tab",{attrs:{title:"支出",active:""},on:{click:function(n){t.tab_in=!1}}},[i("div",{staticClass:"wallet"},[i("b-icon",{attrs:{icon:"wallet"}}),t._v(" "),i("span",{staticStyle:{float:"right"}},[t._v(t._s(t.input_num))])],1)]),t._v(" "),i("b-tab",{attrs:{title:"收入"},on:{click:function(n){t.tab_in=!0}}},[i("div",{staticClass:"wallet"},[i("b-icon",{attrs:{icon:"wallet"}}),t._v(" "),i("span",{staticStyle:{float:"right"}},[t._v(t._s(t.input_num))])],1)])],1)],1)]),t._v(" "),i("div",[i("div",[i("b-button-group",[i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.input(1)}}},[t._v("1")]),t._v(" "),i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.input(2)}}},[t._v("2")]),t._v(" "),i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.input(3)}}},[t._v("3")]),t._v(" "),i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.del()}}},[t._v("删除")])],1),t._v(" "),i("b-button-group",[i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.input(4)}}},[t._v("4")]),t._v(" "),i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.input(5)}}},[t._v("5")]),t._v(" "),i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.input(6)}}},[t._v("6")]),t._v(" "),i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.clear()}}},[t._v("清空")])],1),t._v(" "),i("b-button-group",[i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.input(7)}}},[t._v("7")]),t._v(" "),i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.input(8)}}},[t._v("8")]),t._v(" "),i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.input(9)}}},[t._v("9")]),t._v(" "),i("b-button",{staticClass:"num-button-ok",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.pushmoney()}}},[t._v("OK")])],1),t._v(" "),i("b-button-group",[i("b-button",{staticClass:"num-button-zero",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.input(0)}}},[t._v("0")]),t._v(" "),i("b-button",{staticClass:"num-button",attrs:{squared:"",variant:"info"},on:{click:function(n){return t.add_point()}}},[t._v(".")])],1)],1)])],1),t._v(" "),i("b-nav",{staticClass:"bg-light fixed-bottom",attrs:{justified:""}},[i("b-nav-item",[i("b-icon",{attrs:{icon:"plus-circle-fill"}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v("记账")])],1),t._v(" "),i("b-nav-item",{on:{click:function(n){return t.$router.push({path:"/tag"})}}},[i("b-icon",{attrs:{icon:"tag"}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v("标签")])],1),t._v(" "),i("b-nav-item",{on:{click:function(n){return t.$router.push({path:"/stastic"})}}},[i("b-icon",{attrs:{icon:"bar-chart"}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v("统计")])],1)],1)],1)},staticRenderFns:[]};var v=i("VU/8")(c,l,!1,function(t){i("iuzx")},null,null).exports,m={data:function(){return{income:[],output:[]}},mounted:function(){var t=window.localStorage.inmoney,n=window.localStorage.output;if(void 0===t||null===t)this.income=null;else{var i=JSON.parse(t);this.income=this.merge(i),this.income=this.income.reverse()}if(void 0===n||null===n)this.output=null;else{var e=JSON.parse(n);this.output=this.merge(e),this.output=this.output.reverse()}},methods:{merge:function(t){var n=[],i=t[0].date,e={};e.date=i,e.sum=0,e.infoAry=[];var a={};a.tags=t[0].tags,a.money=t[0].money,a.note=t[0].remark,e.sum+=parseFloat(a.money),e.infoAry.push(a);for(var s=1;s<t.length;s++){if(t[s].date===i){var o={};o.tags=t[s].tags,o.money=t[s].money,o.note=t[s].remark,e.sum+=parseFloat(o.money),e.infoAry.push(o)}else{n.push(e),e={},i=t[s].date,e.date=i,e.sum=0,e.infoAry=[];var r={};r.tags=t[s].tags,r.money=t[s].money,r.note=t[s].remark,e.sum+=parseFloat(r.money),e.infoAry.push(r)}}return n.push(e),console.log(n),n},aryToString:function(t){if(void 0===t||null===t||0===t.length)return"未添加标签";for(var n="",i=0;i<t.length-1;i++)n+=t[i],n+=",";return n+=t[t.length-1]}}},d={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"stastic"},[i("b-tabs",{attrs:{"content-class":"mt-3",justified:""}},[i("b-tab",{attrs:{title:"支出",active:""}},[i("b-list-group",[t._l(t.output,function(n,e){return[i("b-list-group-item",{key:e,staticClass:"d-flex justify-content-between align-items-center",attrs:{variant:"secondary"}},[t._v("\n            "+t._s(n.date)+"\n            "),i("b-badge",{attrs:{variant:"light"}},[t._v("-￥"+t._s(n.sum))])],1),t._v(" "),t._l(n.infoAry,function(n,e){return i("b-list-group-item",{key:e,staticClass:"d-flex justify-content-between align-items-center"},[i("small",[t._v("\n              "+t._s(t.aryToString(n.tags))+"\n              "),i("span",{staticClass:"text-muted"},[t._v(t._s(n.note))])]),t._v(" "),i("b-badge",{attrs:{variant:"primary",pill:""}},[i("small",[t._v("-"+t._s(n.money))])])],1)})]})],2)],1),t._v(" "),i("b-tab",{attrs:{title:"收入"}},[i("b-list-group",[t._l(t.income,function(n,e){return[i("b-list-group-item",{key:e,staticClass:"d-flex justify-content-between align-items-center",attrs:{variant:"secondary"}},[t._v("\n            "+t._s(n.date)+"\n            "),i("b-badge",{attrs:{variant:"light"}},[t._v("+￥"+t._s(n.sum))])],1),t._v(" "),t._l(n.infoAry,function(n,e){return i("b-list-group-item",{key:e,staticClass:"d-flex justify-content-between align-items-center"},[i("small",[t._v("\n              "+t._s(t.aryToString(n.tags))+"\n              "),i("span",{staticClass:"text-muted"},[t._v(t._s(n.note))])]),t._v(" "),i("b-badge",{staticStyle:{"background-color":"green"},attrs:{variant:"primary",pill:""}},[i("small",[t._v("+"+t._s(n.money))])])],1)})]})],2)],1)],1),t._v(" "),i("b-nav",{staticClass:"fixed-bottom bg-light",attrs:{justified:""}},[i("b-nav-item",{on:{click:function(n){return t.$router.push({path:"/"})}}},[i("b-icon",{attrs:{icon:"plus-circle"}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v("记账")])],1),t._v(" "),i("b-nav-item",{on:{click:function(n){return t.$router.push({path:"/tag"})}}},[i("b-icon",{attrs:{icon:"tag"}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v("标签")])],1),t._v(" "),i("b-nav-item",[i("b-icon",{attrs:{icon:"bar-chart-fill"}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v("统计")])],1)],1)],1)},staticRenderFns:[]};var p=i("VU/8")(m,d,!1,function(t){i("2844")},"data-v-a956b858",null).exports,h={data:function(){return{list:["衣","食","行"],name:"",nameState:null}},mounted:function(){this.list=JSON.parse(localStorage.getItem("tags"))},methods:{editTag:function(t){this.$router.push({path:"/edit",query:{id:t}})},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},resetModal:function(){this.name="",this.nameState=null},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;this.checkFormValidity()&&(this.list.push(this.name),window.localStorage.setItem("tags",u()(this.list)),this.$nextTick(function(){t.$bvModal.hide("modal-prevent-closing")}))}}},f={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("div",{staticClass:"tagstyle"},[i("b-list-group",t._l(t.list,function(n,e){return i("b-list-group-item",{key:e,attrs:{button:""},on:{click:function(n){return t.editTag(e)}}},[t._v(t._s(n))])}),1),t._v(" "),i("div",{staticClass:"addnewtag"},[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}]},[t._v("新增标签")]),t._v(" "),i("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Submit Your tag"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[i("form",{ref:"form",on:{submit:function(n){return n.stopPropagation(),n.preventDefault(),t.handleSubmit(n)}}},[i("b-form-group",{attrs:{label:"新增标签","label-for":"name-input","invalid-feedback":"Name is required",state:t.nameState}},[i("b-form-input",{attrs:{id:"name-input",state:t.nameState,required:""},model:{value:t.name,callback:function(n){t.name=n},expression:"name"}})],1)],1)])],1)],1),t._v(" "),i("b-nav",{staticClass:"fixed-bottom bg-light",attrs:{justified:""}},[i("b-nav-item",{on:{click:function(n){return t.$router.push({path:"/"})}}},[i("b-icon",{attrs:{icon:"plus-circle"}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v("记账")])],1),t._v(" "),i("b-nav-item",[i("b-icon",{attrs:{icon:"tag-fill"}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v("标签")])],1),t._v(" "),i("b-nav-item",{on:{click:function(n){return t.$router.push({path:"/stastic"})}}},[i("b-icon",{attrs:{icon:"bar-chart"}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v("统计")])],1)],1)],1)},staticRenderFns:[]};var b=i("VU/8")(h,f,!1,function(t){i("EwDY")},"data-v-fad45c2c",null).exports,_={data:function(){return{editmessage:""}},mounted:function(){var t=this.$route.query.id,n=JSON.parse(localStorage.getItem("tags"));this.editmessage=n[t]},methods:{delMessage:function(){var t=this.$route.query.id,n=JSON.parse(localStorage.getItem("tags"));n.splice(t,1),window.localStorage.setItem("tags",u()(n)),alert("删除"+this.editmessage+"成功"),this.$router.push({path:"/tag"})},postMessage:function(){for(var t=this.$route.query.id,n=JSON.parse(localStorage.getItem("tags")),i=!0,e=0;e<n.length;e++){if(this.editmessage===n[e]){alert("您输入的标签已存在"),i=!1;break}if(i)return n.splice(t,1,this.editmessage),window.localStorage.setItem("tags",u()(n)),alert("修改成功,改为："+this.editmessage),void this.$router.push({path:"/tag"})}}}},g={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("p",{staticClass:"tag"},[t._v("编辑标签")]),t._v(" "),i("b-form-input",{model:{value:t.editmessage,callback:function(n){t.editmessage=n},expression:"editmessage"}}),t._v(" "),i("div",{staticClass:"btn-wrap"},[i("b-button",{attrs:{variant:"danger"},on:{click:t.delMessage}},[t._v("删除")]),t._v(" "),i("b-button",{attrs:{variant:"success"},on:{click:t.postMessage}},[t._v("确认")])],1)],1)},staticRenderFns:[]};var w=i("VU/8")(_,g,!1,function(t){i("FuEb")},"data-v-2adce133",null).exports;e.default.use(o.a);var y=new o.a({routes:[{path:"/record",name:"Record",component:v},{path:"/stastic",name:"Stastic",component:p},{path:"/tag",name:"Tag",component:b},{path:"/",redirect:"/record"},{path:"/edit",name:"Edit",component:w}]}),S=i("Tqaz");i("Jmt5"),i("9M+g");e.default.use(S.a),e.default.use(S.b),e.default.config.productionTip=!1,new e.default({el:"#app",router:y,components:{App:s},template:"<App/>"})},iuzx:function(t,n){},vHzB:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.4f56dc48706677e991b0.js.map